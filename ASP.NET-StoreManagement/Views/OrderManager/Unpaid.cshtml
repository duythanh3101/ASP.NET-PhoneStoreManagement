@using ASP.NET_StoreManagement.Models;
@model IEnumerable<Order>

@{
    ViewBag.Title = "Unpaid";
    Layout = "~/Views/Layout/AdminLayOut.cshtml";
    WebGrid grid = new WebGrid(source: Model, rowsPerPage: 20);
}

<h2>Quản lý đơn hàng (Danh sách đơn hàng chưa thanh toán)</h2>
<br />
<ul class="nav nav-tabs">
    <li class="nav-item">
        <a class="nav-link active" href="@Url.Action("Unpaid", "OrderManager")">Chưa thanh toán</a>
    </li>
    <li class="nav-item">
        <a class="nav-link"  href="@Url.Action("UnDelivery", "OrderManager")">Chưa giao & Đã thanh toán</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="@Url.Action("PaidAndDelivery", "OrderManager")">Đã giao & Đã thanh toán</a>
    </li>
</ul>



@grid.GetHtml(
    tableStyle: "gridTable",
    headerStyle: "gridHeader",
    footerStyle: "gridFooter",
    rowStyle: "gridRow",
    alternatingRowStyle: "gridAlRow",
    columns: grid.Columns(
        grid.Column("Id", "Mã sản phẩm"),
        grid.Column("CustomerId", header: "Khách hàng", format: p => p.CustomerId != null ? p.Customer.DisplayName : ""), //Dùng toán tử 3 ngôi thay cho điều kiện if
        grid.Column("OrderDate", header: "Ngày đặt"),
        grid.Column("OrderState", header: "Tình trạng giao hàng"),
        grid.Column("ShipDate", header: "Ngày giao"),
        grid.Column("IsPaid", header: "Đã thanh toán"),
        grid.Column("Promotion", header: "Ưu đãi"),
        grid.Column("IsCancelled", header: "Đã hủy"), 
        grid.Column(format: p => @Html.ActionLink("Duyệt đơn hàng", "ReviewOrder", new { Id = p.Id }))
        )
        )

@*Css cho từng Style của table*@
<style>

    .gridTable {
        width: 100%;
        border: 1px solid #999999;
    }

        .gridTable td {
            border: 1px solid #999999;
        }

    .gridHeader {
        background-color: Green;
    }

        .gridHeader a {
            color: #fff;
        }

    .gridFooter {
        font-weight: bold;
    }

    .nav > li {
        background: rgba(2500,0,0,.5);
        color:black;
    }
</style>

<style>
    .FooterAdmin {
        display: none;
    }
</style>



